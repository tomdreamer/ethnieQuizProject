questions =[
   {
        question : "From where does this ethnie come's from?",
        nameEthnie : "Kazakhs",
        pays : "Mongolie",
        picture : "./images/kazakh.jpg",
        right: "Mongolie",
        longitudeA: 103.84665599999994,
        latitudeA: 46.862496,
        longitudeB: 69.34511599999996,
        latitudeB: 30.375321,
        longitudeC: -95.71289100000001,
        latitudeC: 37.09024,
        responseA: "Mongolie",
        responseB: "Pakistan",
        responseC: "Etats Unis",
        desription : "Ils sont issus d’une ethnie turque du nord de l’Asie centrale, sont semi-nomades et vivent du pastoralisme, parmi leurs traditions on peut noter, la chasse à l’aigle. Ils portent alors un manteau noir, un chapeau bordé de fourrure, le loovuuz, et des bottes. Ils vivent dans les yourtes richement aménagées avec des étoffes brodées et du feutre. Ce sont de grands consommateurs de viande d’agneau, cheval, qu’ils ont coutume de saler et de sécher pour la conserver. Ils privilégient le lait aigre, qui se conserve mieux et est plus approprié au mode de vie nomade.",
    },
    question2 ={
        question : "From where does this ethnie come's from?",
        nameEthnie : "Maoris",
        pays : "Nouvelle Zelande",
        picture : "./images/maori.jpg",
        longitudeA: 69.34511599999996,
        latitudeA: 30.375321,
        longitudeB: 103.84665599999994,
        latitudeB: 46.862496,
        longitudeC: 174.88597100000004,
        latitudeC: -40.900557,
        responseA: "Pakistan",
        responseB: "Mongolie",
        responseC: "Nouvelle Zelande",
        desription : "Les Maoris, constituent un peuple indigène fascinant. Ils sont venus en waka (pirogue) de l’île d’Hawaiki en Polynésie centrale. La culture traditionnelle maori s’exprime à travers l’art, les légendes, les tatouages (ta moko), les danses (en particulier le haka censé intimider l’ennemi), les costumes et un grand sens de l’hospitalité. Peuple polythéiste les Maoris vénèrent de nombreux dieux, déesses et esprits. Ils ont adopté un mode de vie occidental, tout en conservant leurs coutumes sociales et culturelles. L’alimentation de base (kai) est constituée d’oiseaux et de poissons que viennent compléter des herbes sauvages et des racines. Ils cultivent dans leurs jardins des calebasses, et des tubercules comme l’igname et la patate douce (kumara). Ils sont à l’heure actuelle quelque 650.000 Maoris en Nouvelle-Zélande.",
    },
    question3 ={
        question : "From where does this ethnie come's from?",
        nameEthnie : "Mursis",
        pays : "Ethiopie",
        picture : "./images/mursi.jpg",
        longitudeA: -14.452361999999994,
        latitudeA: 14.497401,
        longitudeB: 40.48967300000004,
        latitudeB: 9.145000000000001,
        longitudeC: 22.937505999999985,
        latitudeC: -30.559482,
        
        responseA: "Senegal",
        responseB: "Ethiopie",
        responseC: "Afrrique du Sud",
        desription : "Ils vivent non loin de la frontière kenyane, dans la basse vallée de l’Omo. Cette tribu possède son propre idiome, le mursi. Les moyens de subsistance de cette tribu de bergers nomades sont de plus en plus difficiles, suite à de grandes sécheresses, mais aussi la création de parcs nationaux avec leurs clôtures et leurs routes. Les femmes sont connues dans le monde entier pour le labret, plateau d’argile ornant leur bouche. Pour passer de l’enfance à l’âge adulte, les jeunes hommes doivent se soumettre à la cérémonie du « saut du taureau », des bovins sont alignés flancs contre flancs. Chaque homme nu doit effectuer quatre passages sur leurs dos sans tomber. Ils habitent dans des cases faites de roseaux, chaume, branches et brindilles. Ils sont animistes, et croient que tous les éléments de la nature, arbres, pierres… possèdent un esprit. ",
    },
    question4 ={
        question : "From where does this ethnie come's from?",
        nameEthnie : "Samburus",
        pays : "Kenya",
        picture : "./images/samburu.jpg",
        longitudeA: 8.675277000000051,
        latitudeA: 9.081999,
        longitudeB: 133.77513599999997,
        latitudeB: -25.274398,
        longitudeC: 37.90619300000003,
        latitudeC: -0.023559,
        responseA: "Nigeria",
        responseB:  "Autralie" ,
        responseC: "Kenya",
        desription : "Les Samburus sont environ 140.000 et habitent la province de la Rift Valley dans le nord du Kenya. Les steppes leur permettent de faire l’élevage des bovins, chèvres, moutons et dromadaires. Le samburu est un dialecte de la langue nilotique appelée maa, également parlée par les Massaïs. Ce peuple croit à un créateur lointain, un dieu suprême, qu’ils appellent Nkai ou Ngai. Le culte des ancêtres et même la sorcellerie sont très répandus, ils croient aux envoûtements et pratiquent des rituels traditionnels pour obtenir fécondité, protection, guérison… Ils habitent dans des huttes faites de branchages entrelacés, de peaux de bêtes et de boue, un matériel facile à démonter pour le transport. Les guerriers tressent leurs longs cheveux et les teignent avec de l’ocre rouge. Ils sont tous richement parés de colliers, bracelets et boucles d’oreilles en perles très colorés. ",
    },
    question5 ={
        question : "From where does this ethnie come's from?",
        nameEthnie : "Vanuatuans",
        pays : "Îles du VanuAtu",
        picture : "./images/vanuatu.jpg",
        longitudeA: 168.315741,
        latitudeA: -17.7450363,
        longitudeB: 165.61804200000006,
        latitudeB: -20.904305,
        longitudeC: 101.97576600000002,
        latitudeC: 4.210484,
        
        responseA: "Îles du VanuAtu",
        responseB: "Nouvelle Caledonie",
        responseC: "Malaisie",
        desription :"Ils peuplent la république du Vanuatu, en Mélanésie qui regroupe 83 îles du sud-ouest de l’océan Pacifique. Ils pratiquent de grandes cérémonies et procèdent à des échanges d’aliments : taros, ignames, kava, volailles, cochons et poulets. Le festival de Toka est l’une des manifestations traditionnelles qui dure trois jours. La danse occupe une grande place pour les Vanuatuans. Le namba est un étui pénien traditionnel confectionné avec de l’écorce ou les feuilles du pandanus. Les femmes portent des pagnes confectionnés avec des feuilles, des nattes tissées, des fibres d’hibiscus. Le plat cérémonial le laplap est un gâteau réalisé à partir de racines râpées ou de bananes plantain mélangées à de la noix de coco, des légumes et des viandes, enveloppées dans des feuilles et cuites durant des heures dans un four d’argile traditionnel. ",
    },
    question6 ={
        question : "From where does this ethnie come's from?",
        nameEthnie : "Papou",
        pays : "Papouasie-Nouvelle-Guinée",
        picture : "./images/papou.jpg",
        longitudeA:  -72.285215,
        latitudeA: 18.971187,
        longitudeB: 143.95555000000002,
        latitudeB: -6.314992999999999,
        longitudeC: -155.58278180000002,
        latitudeC: 19.8967662,
        
        responseA: "Haiti",
        responseB: "Papouasie-Nouvelle-Guinée",
        responseC: "Hawai",
        desription : "Les papous vivent dans les hautes terres de Papouasie-Nouvelle-Guinée et l’on pense qu’ils ont migré vers l’île il y a plus de 45000 années. C’est la plus importante tribu de cette île, surnommés les « Hommes perruques », célèbres impressionnantes perruques confectionnées avec leurs propres cheveux. Elles sont ornées de plumes d’oiseaux de paradis, de perroquets. Coquillages, perles, défenses de cochon, crânes de calao et feuilles sont également utilisés. Traditionnellement animistes, ils procèdent à des offrandes suivant des rituels établis afin d’apaiser les esprits de leurs ancêtres. Ils voient dans la maladie et le malheur l’oeuvre de la sorcellerie. Ils sont très respectueux des merveilles de la nature. Les hommes aident à défricher les terres, le reste incombe aux femmes, qui sont des agricultrices hors pair. Elles cultivent des patates douces, du blé et diverses variétés de chou et de manioc. Ils vivent dans des huttes de chaume, deux à quatre par communauté. Les femmes dorment dans une hutte et les hommes dans une autre. ",
    },
    question7 ={
        question : "From where does this ethnie come's from?",
        nameEthnie : "Kogi",
        pays : "Colombie",
        picture : "./images/kogi.jpg",
        longitudeA: 95.95597399999997,
        latitudeA: 21.916221,
        longitudeB: -102.55278399999997,
        latitudeB: 23.634501,
        longitudeC: -74.29733299999998,
        latitudeC: 4.570868,
        responseA: "Birmanie",
        responseB: "Mexique",
        responseC: "Colombie",
        desription : "Ils habitent dans la Rift Valley au nord du Kenya. Le mariage est une succession de rituels très élaborés. Ils accordent une grande importance aux cadeaux émanant du fiancé (deux peaux de chèvres, une paire de boucles d’oreille en cuivre, une calebasse, et un mouton). La fertilité est très importante, et les femmes sans enfants sont tournées en ridicule. Un rituel de fertilité consiste à  placer une statuette en terre devant la hutte d’une femme et une semaine plus tard le mari invite les voisins à partager un taureau. Les femmes portent la shuka traditionnelle, une pièce d’étoffe aux couleurs vives dont elles enveloppent leurs corps. Elles sont parées de riches colliers de perle très colorés, de boucle d’oreille. Le lait et le sang de leurs vaches constituent la base de leur alimentation, mais ils la complètent par des racines et des légumes qu’ils trouvent dans la terre et en accommodent leur soupe. ",
    },
    question8 ={
        question : "From where does this ethnie come's from?",
        nameEthnie : "Yalis",
        pays : "Indonésie",
        picture : "./images/yalis.jpg",
        longitudeA: 113.92132700000002,
        latitudeA: -0.789275,
        longitudeB: 138.252924,
        latitudeB: 36.204824,
        longitudeC: 101.97576600000002,
        latitudeC: 4.210484,
        responseA: "Indonésie",
        responseB: "Japon",
        responseC: "Malaisie",
        desription : "Les Yalis, « Seigneurs de la Terre », vivent au coeur des monts Jayawijaya, dans la province indonésienne de Papouasie. Le koteka, étui pénien long et effilé, est l’une des particularités de cette tribu. Il est fait dans une coloquinte et fait partie du costume traditionnel, ainsi que les ornements faciaux et corporels faits en os, dents de chien ou de porc. Ils pratiquent la polygamie. Les Yalis construisent des huttes ovales ou rondes en bois, coiffées d’épais toits de chaume. Les hommes, les femmes et les enfants dorment dans des huttes séparées (honai). Le sagou constitue l’alimentation de base, mais elle est complétée par des larves, des cochons sauvages, des serpents, des casoars. En guise de légumes ils consomment des feuilles de palmier, des fougèreset les fruits de l’arbre à pain.",
    },
    question9 ={
        question : "From where does this ethnie come's from?",
        nameEthnie : "Kayapo",
        pays : "Brésil" ,
        picture : "./images/cacique.jpeg",
        longitudeA: 84.124008,
        latitudeA: 28.394857,
        longitudeB: -51.92527999999999,
        latitudeB: -14.235004,
        longitudeC: 133.77513599999997,
        latitudeC: -25.274398,
        responseA: "Népal",
        responseB: "Brésil",
        responseC: "Australie",
        desription :"es Kayapos (également orthographié Kayapós, Caiapós ou encore Kaipo) sont un peuple indigène du Brésil et l'une des 17 nations résidant dans la vallée du Rio Xingu, en grande majorité dans le Territoire indigène de Kayapó, au sud du bassin de l'Amazone, dans les plaines des États du Mato Grosso et du Pará. Ils parlent le kayapo, l'une des langues jê-kaingang. La frontière de leur réserve a été officiellement délimitée lors d’un décret présidentiel en 1993 lors de la tournée mondiale du Chef Raoni accompagné du chanteur Sting et du cinéaste Jean-Pierre Dutilleux. Environ 7 096 Kayapos sont comptés en 2003, dispersés dans diverses tribus (Kayapo Gorotire, Xicrin, Metyktire, Kuben-Kran Ken ou Txucarramae) qui vivent sur des territoires indigènes des États brésiliens du Pará et du Mato Grosso.Ils mènent un combat médiatique depuis 1973, lorsque le cinéaste belge Jean-Pierre Dutilleux réalisa un documentaire sur les Txucarramae intitulé Raoni. Le chanteur Sting s'est intéressé à leur cause",
    },
    question10 ={
        question : "From where does this ethnie come's from?",
        nameEthnie : "Hani",
        pays : "Birmanie",
        picture : "./images/hani.jpg",
        longitudeA: 121.77401699999996,
        latitudeA: 12.879721,
        longitudeB: 103.84665599999994,
        latitudeB: 46.862496,
        longitudeC: 95.95597399999997,
        latitudeC: 21.916221,
        responseA: "Philipine",
        responseB: "Mongolie",
        responseC: "Birmanie",
        desription : "Ethnie nomade d’éleveurs de rennes de l’Arctique sibérien, ils occupent en majorité la péninsulede Yamal, au nord-est de l’Oural. Ils vivent depuis plus d’un millénaire dans en un des milieux les plus inhospitaliers de la planète, -50 °C en hiver +35 °C en été. Les rennes occupent une place prépondérante dans la vie et les traditions des Nénètses, valeur marchande, nourriture, protection, habillement… Les rennes sont vénérés. Les hommes portent un malitsa, sorte de manteau à capuche en cuir, doublé de fourrure. Dans les conditions extrêmes, ils enfilent une autre couche de fourrure de renne, le gus. La yagushka des femmes est un vêtement à double épaisseur. Les Nénètses portent de longues cuissardes avec une botte intérieure le tobaki et une botte extérieure le kisy. Ils vivent dans les tchoums, tentes familiales faites en peaux de rennes. Leur boisson favorite est le thé noir de Ceylan, et ils se nourrissent de viandes de rennes, de poissons séchés. ",
    },
    ]

   
        
    
    //Test les valeurs et les inputs
    var question = questions[0];
    console.log(question);
    console.log(typeof($(".responseA").html()));
    console.log(typeof(question.right));
    console.log($(".responseA").html());
    console.log(question.right);
    var total = 0;

    intitilise();

    function intitilise(){
            $(".topImage").attr('src', questions[0].picture);
            $(".nameEthnie").html(questions[0].nameEthnie);
            $(".responseA").html(questions[0].responseA);
            $(".responseB").html(questions[0].responseB);
            $(".responseC").html(questions[0].responseC);
            $(".description").html(questions[0].desription);
        };



  function responseA (){
    $(".responseA").click(function(){
        //If is to restart the quizz if finish
    if (questions.indexOf(question)==-1){
          question = questions[0];
      
        console.log("blabla");

        //Test if the response is correct
        controleResponseA();


        //POPUP box for result
        popup();

        removeMarkerPrevuisQus();

        
        //Next informations in the array of questions
        var index = questions.indexOf(question);
        question = questions[index + 1];
        

        //Replace info for next question
        
        changeQuestion();

        //Update the markers on the map
        updateMarker();
      }
      else {

        //Test if the response is correct
        controleResponseA();


        //POPUP box for result
        popup();

        removeMarkerPrevuisQus();

        
        //Next informations in the array of questions
        var index = questions.indexOf(question);
        question = questions[index + 1];
        

        //Replace info for next question
        
        changeQuestion();

        //Update the markers on the map
        updateMarker();
        };
        });
    };
    
    function responseB(){
        $(".responseB").click(function(){
            if (questions.indexOf(question)==-1){
                  question = questions[0];
              
                console.log("blabla");
        
                //Test if the response is correct
                controleResponseB();
        
        
                //POPUP box for result
                popup();
        
                removeMarkerPrevuisQus();
        
                
                //Next informations in the array of questions
                var index = questions.indexOf(question);
                question = questions[index + 1];
                
        
                //Replace info for next question
                
                changeQuestion();
        
                //Update the markers on the map
                updateMarker();
              }
              else {
        
                //Test if the response is correct
                controleResponseB();
        
        
                //POPUP box for result
                popup();
        
                removeMarkerPrevuisQus();
        
                
                //Next informations in the array of questions
                var index = questions.indexOf(question);
                question = questions[index + 1];
                
        
                //Replace info for next question
                
                changeQuestion();
        
                //Update the markers on the map
                updateMarker();
                };
                });
            };


      function responseC(){
        $(".responseC").click(function(){
            if (questions.indexOf(question)==-1){
                  question = questions[0];
              
                console.log("blabla");
        
                //Test if the response is correct
                controleResponseC();
        
        
                //POPUP box for result
                popup();
        
                removeMarkerPrevuisQus();
        
                
                //Next informations in the array of questions
                var index = questions.indexOf(question);
                question = questions[index + 1];
                
        
                //Replace info for next question
                
                changeQuestion();
        
                //Update the markers on the map
                updateMarker();
              }
              else {
        
                //Test if the response is correct
                controleResponseC();
        
        
                //POPUP box for result
                popup();
        
                removeMarkerPrevuisQus();
        
                
                //Next informations in the array of questions
                var index = questions.indexOf(question);
                question = questions[index + 1];
                
        
                //Replace info for next question
                
                changeQuestion();
        
                //Update the markers on the map
                updateMarker();
                };
                });
            };

      responseA ();
      responseC();
      responseB();



            //this function controle if the response A is correct or not after a click on the button
    function controleResponseA(){
        console.log($(".responseA").html());
        
        if($(".responseA").html() === question.pays){
            console.log(questions.indexOf(question));
            //this allow us to restart the quizz
            if (questions.indexOf(question)==questions.length-1){
                total += 1;
                $(".popUp").html(`Correct!
                VOUS AVEZ UN SCORE TOTAL DE ${total}/10`);
                total =0;
            }else { 
                total += 1;
                $(".popUp").html(`Correct! Votre score est de ${total}/10`);}
        }else {
            console.log(questions.indexOf(question));
            if (questions.indexOf(question)==questions.length-1){
                total;
                $(".popUp").html(`Faux, ils viennent de ${question.pays}!<br /><br /> VOTRE SCORE FINAL EST DE :${total}/10`);
                total =0;
            }else  {
                total;
                $(".popUp").html(`Faux, ils viennent de ${question.pays}!<br /><br /> Score:${total}/10`);
            }
        };
    };

    function controleResponseB(){
        if($(".responseB").html() === question.pays){
            console.log(questions.indexOf(question));
            if (questions.indexOf(question)==questions.length-1){
                total += 1;
                $(".popUp").html(`Correct!
                VOUS AVEZ UN SCORE TOTAL DE ${total}/10`);
                total =0;
            }else { 
                total += 1;
                $(".popUp").html(`Correct! Votre score est de ${total}/10`);}
        }else {
            console.log(questions.indexOf(question));
            if (questions.indexOf(question)==questions.length-1){
                total;
                $(".popUp").html(`Faux, ils viennent de ${question.pays}!<br /><br /> VOTRE SCORE FINAL EST DE :${total}/10`);
                total =0;
            }else  {
                total;
                $(".popUp").html(`Faux, ils viennent de ${question.pays}!<br /><br /> Score:${total}/10`);
            }
        };
    };

    function controleResponseC(){
        if($(".responseC").html() === question.pays){
            console.log(questions.indexOf(question));
            if (questions.indexOf(question)==questions.length-1){
                total += 1;
                $(".popUp").html(`Correct!
                VOUS AVEZ UN SCORE TOTAL DE ${total}/10`);
                total =0;
            }else { 
                total += 1;
                $(".popUp").html(`Correct! Votre score est de ${total}/10`);}
        }else {
            console.log(questions.indexOf(question));
            if (questions.indexOf(question)==questions.length-1){
                total;
                $(".popUp").html(`Faux, ils viennent de ${question.pays}!<br /><br /> VOTRE SCORE FINAL EST DE :${total}/10`);
                total =0;
            }else  {
                total;
                $(".popUp").html(`Faux, ils viennent de ${question.pays}!<br /><br /> Score:${total}/10`);
            }
        };
    };
    
    function popup(){
    $('.hover_bkgr_fricc').show();

        $('.hover_bkgr_fricc').click(function(){
            $('.hover_bkgr_fricc').hide();
        });
        $('.popupCloseButton').click(function(){
            $('.hover_bkgr_fricc').hide();
        });
    }


    function changeQuestion(){
        if(questions.indexOf(question)==-1){
            intitilise();
        }
        else{
        $(".topImage").attr('src', question.picture);
        $(".nameEthnie").html(question.nameEthnie);
        $(".responseA").html(question.responseA);
        $(".responseB").html(question.responseB);
        $(".responseC").html(question.responseC);
        $(".description").html(question.desription);
        }
    }
     //openstreetmap add map and informations
    
     var map = L.map('map').setView([40, -0.09], 2);

     L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
         attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
     }).addTo(map);
 
     //Size of the icon
     var LeafIcon = L.Icon.extend({
         options: {
             
             iconSize:     [28, 33],
                
             iconAnchor:   [14, 33],
              
             popupAnchor:  [0, -30]
         }
     });
     
     var iconResA = new LeafIcon({iconUrl: "D:/DATA/t.lesage/code/labs/module1/EthnieQuizProject/images/iconfinder_map-marker_285659.svg"}),
         iconResB = new LeafIcon({iconUrl: "D:/DATA/t.lesage/code/labs/module1/EthnieQuizProject/images/iconfinder_map-marker_285659.svg"}),
         iconRespC = new LeafIcon({iconUrl: "D:/DATA/t.lesage/code/labs/module1/EthnieQuizProject/images/iconfinder_map-marker_285659.svg"});
         
        var MarkerA = L.marker([questions[0].latitudeA, question.longitudeA], {icon: iconResA}).bindPopup(`<b>${questions[0].responseA}</b><br />Response A`).addTo(map);
        var MarkerB = L.marker([questions[0].latitudeB, question.longitudeB], {icon: iconResB}).bindPopup(`<b>${questions[0].responseB}</b><br />Response B`).addTo(map);
        var MarkerC = L.marker([questions[0].latitudeC, question.longitudeC], {icon: iconRespC}).bindPopup(`<b>${questions[0].responseC}</b><br />Response C`).addTo(map);

     // Remove the previus marker 

        function removeMarkerPrevuisQus(){
            MarkerA.remove();
            MarkerB.remove();
            MarkerC.remove();
        }

        //Update the position with new Marker for next question
        function updateMarker(){
            if(questions.indexOf(question)==-1){
                
            MarkerA = L.marker([questions[0].latitudeA, questions[0].longitudeA], {icon: iconResA}).bindPopup(`<b>${questions[0].responseA}</b><br />Response A`).addTo(map);
            MarkerB = L.marker([questions[0].latitudeB, questions[0].longitudeB], {icon: iconResB}).bindPopup(`<b>${questions[0].responseB}</b><br />Response B`).addTo(map);
            MarkerC = L.marker([questions[0].latitudeC, questions[0].longitudeC], {icon: iconRespC}).bindPopup(`<b>${questions[0].responseC}</b><br />Response C`).addTo(map);
            var question = questions[0];
        }
            else{
            MarkerA = L.marker([question.latitudeA, question.longitudeA], {icon: iconResA}).bindPopup(`<b>${question.responseA}</b><br />Response A`).addTo(map);
            MarkerB = L.marker([question.latitudeB, question.longitudeB], {icon: iconResB}).bindPopup(`<b>${question.responseB}</b><br />Response B`).addTo(map);
            MarkerC = L.marker([question.latitudeC, question.longitudeC], {icon: iconRespC}).bindPopup(`<b>${question.responseC}</b><br />Response C`).addTo(map);
               }  
        };